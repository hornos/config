# Red Hat Installaltion

## Partitions
Create partitions with lvm. Separate the following directories:
/boot
/tmp
/var/log
/var/tmp
/var/log/audit
/home
/
/site

## Logging

### rsyslog
Setup high prec time format in /etc/rsyslog.conf
Based on: http://www.rsyslog.com/doc/rsyslog_conf_templates.html

  $ActionFileDefaultTemplate RSYSLOG_FileFormat

### Host-based logging

  $template MonthlyPerHostLogs,"/var/log/syslog/%$YEAR%/%$MONTH%/%HOSTNAME%/messages.log"
  *.* -?MonthlyPerHostLogs

### Log rotate with cron ? logrotated

### Firewall logging
Filter in /etc/rsyslog.conf
Based on: http://www.rsyslog.com/doc/rsyslog_conf_filter.html

  :msg, contains, "Shorewall" /var/log/firewall

### TODO: LogAnalyzer

## Repositories

### Activate EPEL repo
Based on: http://www.cyberciti.biz/faq/fedora-sl-centos-redhat6-enable-epel-repo/

  curl -s https://raw.github.com/hornos/config/master/centos/bin/activate_epel_repo | bash


## Firewall

### Shorewall
Based on: http://www.cyberciti.biz/faq/centos-rhel-shorewall-firewall-configuration-setup-howto-tutorial/

  yum install shorewall

  shorewall check
  chkconfig iptables off
  service shorewall start | stop | restart | status
  chkconfig shorewall on

  shorewall show
  shorewall show capabilities
  shorewall show macros

  tail -f /var/log/messages

### Test the firewall

  nmap -p 20-22 $FW


## SSH

### Ciphers
  http://blog.famzah.net/2010/06/11/openssh-ciphers-performance-benchmark/
  secure: 3des-cbc
  normal: aes-128-ctr
  fast: arcfour256

  ssh -c Cipher

### PAM
Based on: http://www.cyberciti.biz/tips/howto-deny-allow-linux-user-group-login.html
Edit /etc/pam.d/sshd

  account required pam_listfile.so onerr=succeed item=user  sense=deny  file=/etc/restrict/sshd.deny.user
  account required pam_listfile.so onerr=succeed item=group sense=deny  file=/etc/restrict/sshd.deny.group
  account required pam_listfile.so onerr=fail    item=group sense=allow file=/etc/restrict/sshd.allow.group


## Su & Sudo

## Disable user password change
Use unknown random passwords.

## PAM

### limits

## Users & Groups
### defaults
### skel
### LDAP
### umask


### Enable & Disable (nologin)

##Â Quota

## Monitoring

## Scheduler
